<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>时钟</title>
    <script src="http://libs.baidu.com/jquery/2.1.1/jquery.min.js"></script>
    <style type="text/css">
       *{padding: 0;margin: 0;}
       #canvas{
        display: block;
        width: 200;
        border: 1px solid pink;
        margin: 0 auto;}
</style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <script type="text/javascript">
        var canvas=document.getElementById('canvas');
        var ctx=canvas.getContext('2d');
        canvas.width=$(window).height();
        canvas.height=canvas.width;
        var width=canvas.width;
        var r=width/2;
        var rem=r/200;
    function drawSil() {
        ctx.save();
        ctx.translate(r,r);//重新定义原点坐标
        ctx.beginPath();
        ctx.lineWidth=10*rem;
        var line=ctx.lineWidth;
        ctx.strokeStyle='rgba(32, 32, 51, 1)';
        ctx.arc(0,0,r-line/2,0,2*Math.PI);
        ctx.stroke();

        var hourNum=[3,4,5,6,7,8,9,10,11,12,1,2];
        ctx.font=20*rem+"px Arial";
        ctx.textAlign="center";
        ctx.textBaseline="middle";
        hourNum.forEach(function (number,i) {
            var rad=2*Math.PI/12*i;//总的弧度为2PI 除以12个小时再乘以下标就是对应的弧度
            var x=Math.cos(rad)*(r-42*rem);
            var y=Math.sin(rad)*(r-42*rem);//内圆要小一点
            ctx.fillText(number,x,y);
        });
        for(var i=0;i<60;i++){
            var rad =2*Math.PI/60*i;
            var x=Math.cos(rad)*(r-24*rem);
            var y=Math.sin(rad)*(r-24*rem);
            ctx.beginPath();
            if (i % 5 ===0) {
                ctx.fillStyle='black';
                ctx.arc(x,y,3*rem,0,2*Math.PI);

            }else{
                ctx.fillStyle='silver';
            ctx.arc(x,y,2*rem,0,2*Math.PI);
            };
                ctx.fill();
            };
    };

    function drawHour(hour,minute) {
        ctx.save();
        ctx.beginPath();
        var rad=2*Math.PI/12*hour;
        var mrad=2*Math.PI/12/60*minute;
        ctx.rotate(rad+mrad);
        ctx.lineWidth=7*rem;
        ctx.lineCap='round';
        ctx.moveTo(0,10);
        ctx.lineTo(0,-r+60*rem);
        ctx.stroke();
        ctx.restore();
    };

    function drawMinnute(minute,second) {
        ctx.save();
        ctx.beginPath();
        var rad=2*Math.PI/60*minute;
        var srad=2*Math.PI/60/60*second;
        ctx.rotate(rad+srad);
        ctx.lineWidth=5*rem;
        ctx.lineCap='round';
        ctx.moveTo(0,10*rem);
        ctx.lineTo(0,-r+30*rem);
        ctx.stroke();
        ctx.restore();
    };
    function drawSecond(second) {
        ctx.save();
        ctx.beginPath();
        ctx.fillStyle='red';
        var rad=2*Math.PI/60*second;
        ctx.rotate(rad);
        ctx.moveTo(-3*rem,20*rem);
        ctx.lineTo(3*rem,20*rem);
        ctx.lineTo(0,-r+20*rem);
        ctx.lineTo(0,-r+20*rem);
        ctx.fill();
        ctx.restore();
    };
     function drawMid(){
        ctx.beginPath();
        ctx.fillStyle='#FFF';
        ctx.arc(0,0,3*rem,0,2*Math.PI);
        ctx.fill();
    };
    function draw() {
        ctx.clearRect(0,0,width,width);
        var now=new Date();
        var hour=now.getHours();
        var minute=now.getMinutes();
        var second=now.getSeconds();
        drawSil();
        drawHour(hour,minute);
        drawMinnute(minute,second);
        drawSecond(second);
        drawMid();
        ctx.restore();
    };
    draw();
    setInterval('draw()',1000);
    </script>
</body>
</html>